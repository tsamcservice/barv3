<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINE Flex Message ç·¨è¼¯å™¨</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/flex2html.css">
    <script src="js/flex2html.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="editor-container">
            <div class="editor-section">
                <h2>Flex Message ç·¨è¼¯å™¨</h2>
                <div style="margin-bottom:16px;">
                  <a href="/member-card-simtest.html" style="display:inline-block;padding:8px 20px;background:#06C755;color:#fff;border-radius:6px;text-decoration:none;font-size:16px;">flexç¢¼æ¸¬è©¦é è¦½é </a>
                </div>
                
                <!-- ğŸš€ å…¨æ–°å¿«é€Ÿç·¨è¼¯å™¨ -->
                <div style="margin-bottom:20px;padding:20px;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,0.1);">
                  <h3 style="margin:0 0 10px 0;color:#fff;font-size:20px;font-weight:bold;">ğŸš€ å…¨æ–°å¿«é€Ÿç·¨è¼¯å™¨</h3>
                  <p style="margin:0 0 15px 0;color:#f0f0f0;font-size:14px;">âš¡ 0.5ç§’è¼‰å…¥ | ğŸ¨ é›¢ç·šç·¨è¼¯ | ğŸ“± å¤šå¹³å°åˆ†äº«</p>
                  <div style="display:flex;gap:12px;flex-wrap:wrap;">
                    <a href="/mcard-mtest.html" target="_blank" style="display:inline-block;padding:12px 20px;background:#fff;color:#667eea;border-radius:8px;text-decoration:none;font-size:16px;font-weight:bold;box-shadow:0 2px 8px rgba(0,0,0,0.1);transition:transform 0.2s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                      âš¡ ç«‹å³ç·¨è¼¯
                    </a>
                    <a href="#" onclick="loginLine(); return false;" style="display:inline-block;padding:12px 20px;background:rgba(255,255,255,0.2);color:#fff;border-radius:8px;text-decoration:none;font-size:16px;font-weight:bold;border:2px solid rgba(255,255,255,0.3);transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                      ğŸ‘¤ LINEç™»å…¥
                    </a>
                  </div>
                  <p style="margin:10px 0 0 0;font-size:12px;color:#e0e0e0;">
                    ğŸ’¡ é¦–æ¬¡ä½¿ç”¨è«‹å…ˆLINEç™»å…¥ç²å–å€‹äººè³‡æ–™ï¼Œå¾ŒçºŒå¯ç›´æ¥å¿«é€Ÿç·¨è¼¯
                  </p>
                </div>
                
                <!-- ç®¡ç†å¾Œå°å¿«é€Ÿé€£çµ -->
                <div style="margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:8px;border-left:4px solid #dc3545;">
                  <h3 style="margin:0 0 10px 0;color:#dc3545;font-size:18px;">ğŸ”§ ç³»çµ±ç®¡ç†å¾Œå°</h3>
                  <div style="display:flex;gap:10px;flex-wrap:wrap;">
                    <a href="/admin-points.html" style="display:inline-block;padding:10px 16px;background:#dc3545;color:#fff;border-radius:6px;text-decoration:none;font-size:14px;font-weight:bold;">
                      ğŸ’° é»æ•¸è¨­å®šç®¡ç†
                    </a>
                    <a href="/points-history.html" style="display:inline-block;padding:10px 16px;background:#dc3545;color:#fff;border-radius:6px;text-decoration:none;font-size:14px;font-weight:bold;">
                      ğŸ“Š é»æ•¸äº¤æ˜“è¨˜éŒ„
                    </a>
                    <a href="/mcard-mtest.html" style="display:inline-block;padding:10px 16px;background:#dc3545;color:#fff;border-radius:6px;text-decoration:none;font-size:14px;font-weight:bold;">
                      ğŸ« æœƒå“¡å¡ç·¨è¼¯å™¨
                    </a>
                  </div>
                  <p style="margin:8px 0 0 0;font-size:12px;color:#666;">
                    âš ï¸ ç®¡ç†åŠŸèƒ½ï¼šé»æ•¸å›é¥‹æ¯”ä¾‹è¨­å®šã€äº¤æ˜“è¨˜éŒ„æŸ¥è©¢ã€æœƒå“¡å¡ç‰‡ç®¡ç†
                  </p>
                </div>
                <div class="editor-tools">
                    <button onclick="addComponent('box')">æ–°å¢ Box</button>
                    <button onclick="addComponent('text')">æ–°å¢æ–‡å­—</button>
                    <button onclick="addComponent('image')">æ–°å¢åœ–ç‰‡</button>
                    <button onclick="addComponent('button')">æ–°å¢æŒ‰éˆ•</button>
                </div>
                <div id="editor" class="editor"></div>
            </div>
            <div class="preview-section">
                <h2>å³æ™‚é è¦½</h2>
                <div id="flex2html" class="preview"></div>
                <div class="preview-actions">
                    <button onclick="saveCard()">å„²å­˜å¡ç‰‡</button>
                    <button onclick="previewCard()">é è¦½å¡ç‰‡</button>
                </div>
            </div>
        </div>
    </div>
    <script src="js/editor.js"></script>
    <script>
        // é è¨­é¡¯ç¤ºå®˜æ–¹ç¯„ä¾‹å¡ç‰‡
        const flexMessage = {
            "type": "flex",
            "altText": "Flex Message",
            "contents": {
                "type": "bubble",
                "hero": {
                    "type": "image",
                    "url": "https://scdn.line-apps.com/n/channel_devcenter/img/fx/01_1_cafe.png",
                    "size": "full",
                    "aspectRatio": "20:13",
                    "aspectMode": "cover"
                },
                "body": {
                    "type": "box",
                    "layout": "vertical",
                    "contents": [
                        {
                            "type": "text",
                            "text": "Brown Cafe",
                            "weight": "bold",
                            "size": "xl"
                        },
                        {
                            "type": "box",
                            "layout": "baseline",
                            "margin": "md",
                            "contents": [
                                {
                                    "type": "icon",
                                    "size": "sm",
                                    "url": "https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png"
                                },
                                {
                                    "type": "text",
                                    "text": "4.0",
                                    "size": "sm",
                                    "color": "#999999",
                                    "margin": "md",
                                    "flex": 0
                                },
                                {
                                    "type": "text",
                                    "text": "(2,000+)",
                                    "color": "#999999",
                                    "size": "sm",
                                    "align": "end"
                                }
                            ]
                        },
                        {
                            "type": "box",
                            "layout": "vertical",
                            "margin": "lg",
                            "spacing": "sm",
                            "contents": [
                                {
                                    "type": "box",
                                    "layout": "baseline",
                                    "spacing": "sm",
                                    "contents": [
                                        {
                                            "type": "text",
                                            "text": "ç‡Ÿæ¥­æ™‚é–“",
                                            "color": "#aaaaaa",
                                            "size": "sm",
                                            "flex": 1
                                        },
                                        {
                                            "type": "text",
                                            "text": "10:00 - 23:00",
                                            "wrap": true,
                                            "color": "#666666",
                                            "size": "sm",
                                            "flex": 5
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                "footer": {
                    "type": "box",
                    "layout": "vertical",
                    "spacing": "sm",
                    "contents": [
                        {
                            "type": "button",
                            "style": "primary",
                            "height": "sm",
                            "action": {
                                "type": "uri",
                                "label": "æŸ¥çœ‹åœ°åœ–",
                                "uri": "https://linecorp.com"
                            }
                        }
                    ],
                    "flex": 0
                }
            }
        };
        window.onload = function() {
            flex2html('flex2html', flexMessage);
        };
        
        // å¿«é€Ÿç·¨è¼¯å™¨ç›¸é—œå‡½æ•¸
        function loginLine() {
            const authUrl = '/line-auth-bridge.html?returnUrl=' + encodeURIComponent('/mcard-mtest.html');
            window.open(authUrl, '_blank');
        }
    </script>
</body>
</html> 